(this["webpackJsonpadmitme-react"]=this["webpackJsonpadmitme-react"]||[]).push([[0],{36:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(27),a=n.n(r),s=(n(36),n(30)),o=n(4),d=n(3),j=(window.location.origin,"Admit-me"),l="https://auth.sandpit.signin.nhs.uk",h="openid profile",u="code",b="http://localhost:5000/logincallback",x=n.p+"static/media/LogInWith_Original.5e8690c0.svg",O=n(2),p=function(){var e=function(e,t){var n=e;t=t||[];for(var c=0;c<t.length;c++)n=(n+=0===c?"?":"&")+encodeURIComponent(t[c].key)+"="+encodeURIComponent(t[c].value);return n}(l+"/authorize",[{key:"client_id",value:j},{key:"scope",value:h},{key:"response_type",value:u},{key:"redirect_uri",value:b}]);window.location.href=e};function m(){return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"nhsuk-width-container",children:Object(O.jsx)("main",{className:"nhsuk-main-wrapper",id:"maincontent",role:"main",children:Object(O.jsx)(d.d,{children:Object(O.jsx)(d.i,{children:Object(O.jsxs)(d.c,{width:"two-thirds",children:[Object(O.jsx)(d.g,{isPageHeading:!0,children:"Admit Me"}),Object(O.jsx)(d.h,{children:"A proof of concept QR code generation feature on your NHS app."}),Object(O.jsx)(d.a,{children:"Generate QR code to automatically transfer patient demographic data from the NSH app to clinical systems."}),Object(O.jsx)("button",{id:"log-in-button",onClick:function(){return p()},children:Object(O.jsx)("img",{id:"nhs-login-img",alt:"login",src:x})})]})})})})})})}var f=n(14),g=n.n(f),w=n(28),v=n(17),k=n(29),y=n.n(k),N=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=Object(v.a)(e,2),c=n[0],i=n[1];t.push(Object(O.jsxs)(d.j.Row,{children:[Object(O.jsx)(d.j.Key,{children:c}),Object(O.jsx)(d.j.Value,{children:i})]}))})),Object(O.jsx)(d.j,{children:t})};function C(){var e=Object(c.useState)({loading:"loading"}),t=Object(v.a)(e,2),n=t[0],i=t[1],r=function(){var e=Object(w.a)(g.a.mark((function e(){var t,n,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new URLSearchParams(window.location.search),n=t.get("code"),c="https://qh7tiboi2c.execute-api.eu-west-2.amazonaws.com/dev",n){e.next=5;break}return e.abrupt("return",alert("No code found in query"));case 5:return e.next=7,y.a.post(c,{code:n,redirectUri:b});case 7:r=e.sent,i(r.data.result);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[]),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"nhsuk-width-container ",children:Object(O.jsx)("main",{className:"nhsuk-main-wrapper ",id:"maincontent",role:"main",children:Object(O.jsx)(d.d,{children:Object(O.jsx)(d.i,{children:Object(O.jsxs)(d.c,{width:"two-thirds",children:[Object(O.jsx)(d.g,{isPageHeading:!0,children:"Patient details"}),N(n),Object(O.jsx)(d.b,{onClick:function(){window.location.href="/qrcode"},children:"Generate QR code"})]})})})})})})}function R(){return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"nhsuk-width-container",children:Object(O.jsx)("main",{className:"nhsuk-main-wrapper",id:"maincontent",role:"main",children:Object(O.jsx)(d.d,{children:Object(O.jsx)(d.i,{children:Object(O.jsx)(d.c,{width:"two-thirds",children:Object(O.jsx)(d.g,{isPageHeading:!0,children:"QR Code"})})})})})})})}var S=function(){return Object(O.jsxs)(s.a,{children:[Object(O.jsx)(d.f,{transactional:!0,children:Object(O.jsxs)(d.f.Container,{children:[Object(O.jsx)(d.f.Logo,{href:"/"}),Object(O.jsx)(d.f.ServiceName,{href:"/",children:"Admit Me"})]})}),Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:m}),Object(O.jsx)(o.a,{exact:!0,path:"/logincallback",component:C}),Object(O.jsx)(o.a,{exact:!0,path:"/qrcode",component:R})]}),Object(O.jsxs)(d.e,{children:[Object(O.jsx)(d.e.List,{children:Object(O.jsx)(d.e.ListItem,{href:"/",children:"Admit Me"})}),Object(O.jsx)(d.e.Copyright,{children:"\xa9 Crown copyright"})]})]})};a.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.d2337965.chunk.js.map